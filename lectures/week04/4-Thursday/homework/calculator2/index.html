<!doctype html>
<html class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Calculator</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="wrapper">
    <div class="calculator">
        <div class="input" id="input"></div>
        <div class="buttons">
            <div class="operators">
                <div>+</div>
                <div>-</div>
                <div>x</div>
                <div>รท</div>
            </div>
            <div class="leftPanel">
                <div class="numbers">
                    <div>7</div>
                    <div>8</div>
                    <div>9</div>
                </div>
                <div class="numbers">
                    <div>4</div>
                    <div>5</div>
                    <div>6</div>
                </div>
                <div class="numbers">
                    <div>1</div>
                    <div>2</div>
                    <div>3</div>
                </div>
                <div class="numbers">
                    <div>0</div>
                    <div>.</div>
                    <div id="clear">C</div>
                </div>
            </div>
            <div class="equal" id="result">=</div>
        </div>
    </div>
    <p class="u-center">
        Originally forked from: <a href="https://codepen.io/lalwanivikas/pen/eZxjqo">https://codepen.io/lalwanivikas/pen/eZxjqo</a>
    </p>
</div>
<script src="js/script.js"></script>

    <script>

        let buttons = document.querySelector('.buttons')
        let input = document.querySelector('.input')

        let num1 = ""
        let num2 = ""
        let operation = ""
        let answer = ""

        function calc (num1, operation, num2){
            let firstNum = parseFloat(num1)
            let secondNum = parseFloat(num2)

            switch(operation){
                case '+':
                    return firstNum + secondNum
                    break;

                case '-':
                return firstNum - secondNum
                    break;

                case '*':
                return firstNum * secondNum
                    break;

                case '/':
                return firstNum / secondNum
                    break;
            }
            num1 = answer
            num2 = ""
        }

        buttons.addEventListener('click', event=>{
            console.log(event);

            let buttonClick = event.target.innerText
            lastInput = buttonClick
            console.log(lastInput);

            if(buttonClick.length == 1){

                switch(buttonClick){
                    case '+':
                        // if (operation){
                        //     num2 = input.textContent 
                        //     answer = calc(num1, operation, num2)
                        //     input.textContent = answer
                        //     num1 = answer

                        // }
                        num1 = input.textContent 
                        operation = "+"
                        
                        console.log("num1", num1);
                        console.log("operation", operation);

                        break;
                    
                    case '-':
                        // if(operation){
                        //         num2 = input.textContent 
                        //         answer = calc(num1, operation, num2)
                        //         input.textContent = answer
                        //         num1 = answer

                        //     }
                        num1 = input.textContent 
                        operation = "-"

                        console.log("num1", num1);
                        console.log("operation", operation);

                        break;

                    case 'x': 
                        // if(operation){
                        //         num2 = input.textContent 
                        //         answer = calc(num1, operation, num2)
                        //         input.textContent = answer
                        //         num1 = answer

                        //     }
                        num1 = input.textContent 
                        operation = "*"

                        console.log("num1", num1);
                        console.log("operation", operation);

                        break;

                    case 'รท':
                        // if(operation){
                        //         num2 = input.textContent 
                        //         answer = calc(num1, operation, num2)
                        //         input.textContent = answer
                        //         num1 = answer

                        //     }
                        num1 = input.textContent 
                        operation = "/"

                        console.log("num1", num1);
                        console.log("operation", operation);

                        break;

                    case 'C':
                        input.innerText = ""

                        break; 

                    case '=':
                        num2 = input.textContent
                        answer = calc(num1, operation, num2)
                        input.textContent = answer
                        
                        console.log("num2", num2);

                        break; 

                    default:
                        if (num1){
                            input.textContent = ""
                        }
                        input.textContent += buttonClick
                        console.log(input.textContent);

                        break;
                }
            }            
        })

    </script>
</body>
</html>